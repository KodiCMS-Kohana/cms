(function(e,t){function f(e,t){E(e).push(t)}function l(n,i,s){var o=n.children(i.headerTag),u=n.children(i.bodyTag);if(o.length>u.length){Q(a,"contents")}else if(o.length<u.length){Q(a,"titles")}var l=i.startIndex;s.stepCount=o.length;if(i.saveState&&e.cookie){var c=e.cookie(r+x(n));var h=parseInt(c,0);if(!isNaN(h)&&h<s.stepCount){l=h}}s.currentIndex=l;o.each(function(r){var i=e(this),s=u.eq(r),o=s.data("mode"),a=o==null?Y.html:T(Y,/^\s*$/.test(o)||isNaN(o)?o:parseInt(o,0)),l=a===Y.html||s.data("url")===t?"":s.data("url"),c=a!==Y.html&&s.data("loaded")==="1",h=e.extend({},tt,{title:i.html(),content:a===Y.html?s.html():"",contentUrl:l,contentMode:a,contentLoaded:c});f(n,h)})}function c(e){e.triggerHandler("canceled")}function h(e,t){return e.currentIndex-t}function p(t,n){var r=v(t);t.unbind(r).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".wizard-actions a").unbind(r);t.removeClass(n.clearFixCssClass+" vertical");var i=t.find(".wizard-content > *");i.removeData("loaded").removeData("mode").removeData("url");i.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden");t.find(".wizard-content > [data-mode='async'],.wizard-content > [data-mode='iframe']").empty();var s=e('<{0} class="{1}"></{0}>'.format(t.get(0).tagName,t.attr("class")));var o=t._id();if(o!=null&&o!==""){s._id(o)}s.html(t.find(".wizard-content").html());t.after(s);t.remove();return s}function d(e,t){var n=e.find(".wizard-wrapper li").eq(t.currentIndex);if(e.triggerHandler("finishing",[t.currentIndex])){n.addClass("completed").removeClass("error");e.triggerHandler("finished",[t.currentIndex])}else{n.addClass("error")}}function v(e){var t=e.data("eventNamespace");if(t==null){t="."+x(e);e.data("eventNamespace",t)}return t}function m(e,t){var n=x(e);return e.find("#"+n+i+t)}function g(e,t){var n=x(e);return e.find("#"+n+s+t)}function y(e,t){var n=x(e);return e.find("#"+n+o+t)}function b(e){return e.data("options")}function w(e){return e.data("state")}function E(e){return e.data("steps")}function S(e,t){var n=E(e);if(t<0||t>=n.length){Q(u)}return n[t]}function x(e){var t=e.data("uid");if(t==null){t=e._id();if(t==null){t="steps-uid-".concat(n);e._id(t)}n++;e.data("uid",t)}return t}function T(e,n){G("enumType",e);G("keyOrValue",n);if(typeof n==="string"){var r=e[n];if(r===t){Q("The enum key '{0}' does not exist.",n)}return r}else if(typeof n==="number"){for(var i in e){if(e[i]===n){return n}}Q("Invalid enum value '{0}'.",n)}else{Q("Invalid key or value type.")}}function N(e,t,n){return P(e,t,n,L(n,1))}function C(e,t,n){return P(e,t,n,h(n,1))}function k(e,t,n,r){if(r<0||r>=n.stepCount){Q(u)}if(t.forceMoveForward&&r<n.currentIndex){return}var i=n.currentIndex;if(e.triggerHandler("stepChanging",[n.currentIndex,r])){n.currentIndex=r;$(e,t,n);j(e,t,n,i);B(e,t,n);D(e,t,n);J(e,t,n,r,i);e.triggerHandler("stepChanged",[r,i])}else{e.find(".wizard-wrapper li").eq(i).addClass("error")}return true}function L(e,t){return e.currentIndex+t}function A(t){var r=e.extend(true,{},nt,t);return this.each(function(){var t=e(this);var i={currentIndex:r.startIndex,currentStep:null,stepCount:0,transitionElement:null};t.data("options",r);t.data("state",i);t.data("steps",[]);l(t,r,i);U(t,r,i);I(t,r);if(r.autoFocus&&n===0){m(t,r.startIndex).focus()}})}function O(t,n,r,i,s){if(i<0||i>r.stepCount){Q(u)}s=e.extend({},tt,s);M(t,i,s);if(r.currentIndex!==r.stepCount&&r.currentIndex>=i){r.currentIndex++;$(t,n,r)}r.stepCount++;var o=t.find(".wizard-content"),a=e("<{0}>{1}</{0}>".format(n.headerTag,s.title)),f=e("<{0}></{0}>".format(n.bodyTag));if(s.contentMode==null||s.contentMode===Y.html){f.html(s.content)}if(i===0){o.prepend(f).prepend(a)}else{g(t,i-1).after(f).after(a)}z(t,r,f,i);V(t,n,r,a,i);F(t,n,r,i);if(i===r.currentIndex){j(t,n,r)}B(t,n,r);return t}function M(e,t,n){E(e).splice(t,0,n)}function _(t){var n=e(this),r=b(n),i=w(n);if(r.suppressPaginationOnFocus&&n.find(":focus").is(":input")){t.preventDefault();return false}var s={left:37,right:39};if(t.keyCode===s.left){t.preventDefault();C(n,r,i)}else if(t.keyCode===s.right){t.preventDefault();N(n,r,i)}}function D(t,n,r){if(r.stepCount>0){var i=S(t,r.currentIndex);if(!n.enableContentCache||!i.contentLoaded){switch(T(Y,i.contentMode)){case Y.iframe:t.find(".wizard-content > .wizard-pane").eq(r.currentIndex).empty().html('<iframe src="'+i.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case Y.async:var s=g(t,r.currentIndex)._aria("busy","true").empty().append(X(n.loadingTemplate,{text:n.labels.loading}));e.ajax({url:i.contentUrl,cache:false}).done(function(e){s.empty().html(e)._aria("busy","false").data("loaded","1")});break}}}}function P(e,t,n,r){var i=n.currentIndex;if(r>=0&&r<n.stepCount&&!(t.forceMoveForward&&r<n.currentIndex)){var s=m(e,r),o=s.parent(),u=o.hasClass("disabled");o._enableAria();s.click();if(i===n.currentIndex&&u){o._enableAria(false);return false}return true}return false}function H(t){t.preventDefault();var n=e(this),r=n.parent().parent().parent().parent(),i=b(r),s=w(r),o=n.attr("href");switch(o.substring(o.lastIndexOf("#")+1)){case"cancel":c(r);break;case"finish":d(r,s);break;case"next":N(r,i,s);break;case"previous":C(r,i,s);break}}function B(e,t,n){if(t.enablePagination){var r=e.find(".wizard-actions a[href$='#finish']").parent(),i=e.find(".wizard-actions a[href$='#next']").parent();if(!t.forceMoveForward){var s=e.find(".wizard-actions a[href$='#previous']").parent();s._enableAria(n.currentIndex>0)}if(t.enableFinishButton&&t.showFinishButtonAlways){r._enableAria(n.stepCount>0);i._enableAria(n.stepCount>1&&n.stepCount>n.currentIndex+1)}else{r._showAria(t.enableFinishButton&&n.stepCount===n.currentIndex+1);i._showAria(n.stepCount===0||n.stepCount>n.currentIndex+1)._enableAria(n.stepCount>n.currentIndex+1||!t.enableFinishButton)}}}function j(e,t,n,r){var i=m(e,n.currentIndex),s=e.find(".wizard-content > .title");if(r!=null){var o=m(e,r);o.parent().addClass("completed").removeClass("error")._selectAria(false);s.eq(r).removeClass("active").next(".wizard-pane").removeClass("active");i.focus()}i.parent()._selectAria().removeClass("completed")._enableAria();s.eq(n.currentIndex).addClass("active").next(".wizard-pane").addClass("active")}function F(e,t,n,r){var u=x(e);for(var a=r;a<n.stepCount;a++){var f=u+i+a,l=u+s+a,c=u+o+a,h=e.find(".title").eq(a)._id(c);e.find(".wizard-wrapper a").eq(a)._id(f)._aria("controls",l).attr("href","#"+c).html(X(t.titleTemplate,{index:a+1,title:h.html()}));e.find(".wizard-pane").eq(a)._id(l)._aria("labelledby",c)}}function I(e,t){var n=v(e);e.bind("canceled"+n,t.onCanceled);e.bind("finishing"+n,t.onFinishing);e.bind("finished"+n,t.onFinished);e.bind("stepChanging"+n,t.onStepChanging);e.bind("stepChanged"+n,t.onStepChanged);if(t.enableKeyNavigation){e.bind("keyup"+n,_)}e.find(".wizard-actions a").bind("click"+n,H)}function q(e,t,n,r){if(r<0||r>=n.stepCount||n.currentIndex===r){return false}R(e,r);if(n.currentIndex>r){n.currentIndex--;$(e,t,n)}n.stepCount--;y(e,r).remove();g(e,r).remove();m(e,r).parent().remove();if(r===0){e.find(".wizard-wrapper li").first().addClass("first")}if(r===n.stepCount){e.find(".wizard-wrapper li").eq(r).addClass("last")}F(e,t,n,r);B(e,t,n);return true}function R(e,t){E(e).splice(t,1)}function U(t,n,r){var i='<{0} class="{1}">{2}</{0}>',s=T(Z,n.stepsOrientation),o=s===Z.vertical?" vertical":"",u=e(i.format(n.contentContainerTag,"wizard-content panel",t.html())),a=e(i.format(n.stepsContainerTag,"wizard-wrapper",'<ul class="wizard-steps" role="tablist"></ul>')),f=u.children(n.headerTag),l=u.children(n.bodyTag);t.attr("role","application").empty().append(a).append(u).addClass(n.cssClass+" "+n.clearFixCssClass+o);l.each(function(n){z(t,r,e(this),n)});f.each(function(i){V(t,n,r,e(this),i)});j(t,n,r);W(t,n,r)}function z(e,t,n,r){var i=x(e),u=i+s+r,a=i+o+r;n._id(u).attr("role","tabpanel")._aria("labelledby",a).addClass("wizard-pane")._showAria(t.currentIndex===r)}function W(t,n,r){if(n.enablePagination){var i='<{0} class="wizard-actions clearfix"><div class="btn-group pull-right " role="menu" aria-label="{1}">{2}</div></{0}>',s='<span><a href="#{0}" class="btn {2}" {3} role="menuitem">{1}</a></span>',o="";if(!n.forceMoveForward){o+=s.format("previous",n.labels.previous,"",'data-icon="chevron-left"')}o+=s.format("next",n.labels.next,"btn-primary",'data-icon-append="chevron-right"');if(n.enableFinishButton){o+=s.format("finish",n.labels.finish,"btn-success",'data-icon="check"')}if(n.enableCancelButton){o+=s.format("cancel",n.labels.cancel)}var u=e(i.format(n.actionContainerTag,n.labels.pagination,o));t.append(u).prepend(u.clone());B(t,n,r);D(t,n,r)}}function X(e,n){var r=e.match(/#([a-z]*)#/gi);for(var i=0;i<r.length;i++){var s=r[i],o=s.substring(1,s.length-1);if(n[o]===t){Q("The key '{0}' does not exist in the substitute collection!",o)}e=e.replace(s,n[o])}return e}function V(t,n,r,u,a){var f=x(t),l=f+i+a,c=f+s+a,h=f+o+a,p=t.find(".wizard-wrapper > ul"),d=X(n.titleTemplate,{index:a+1,title:u.html()}),m=e('<li role="tab"><a id="'+l+'" href="#'+h+'" aria-controls="'+c+'">'+d+"</a></li>");m._enableAria(n.enableAllSteps||r.currentIndex>a);if(r.currentIndex>a){m.addClass("completed")}u.remove();if(a===0){p.prepend(m)}else{p.find("li").eq(a-1).after(m)}if(a===0){p.find("li").removeClass("first").eq(a).addClass("first")}if(a===r.stepCount-1){p.find("li").removeClass("last").eq(a).addClass("last")}m.children("a").bind("click"+v(t),K)}function $(t,n,i){if(n.saveState&&e.cookie){e.cookie(r+x(t),i.currentIndex)}}function J(t,n,r,i,s){var o=t.find(".wizard-content > .wizard-pane"),u=T(et,n.transitionEffect),a=n.transitionEffectSpeed,f=o.eq(i),l=o.eq(s);switch(u){case et.fade:case et.slide:var c=u===et.fade?"fadeOut":"slideUp",h=u===et.fade?"fadeIn":"slideDown";r.transitionElement=f;l[c](a,function(){var t=e(this)._showAria(false).parent().parent(),n=w(t);if(n.transitionElement){n.transitionElement[h](a,function(){e(this)._showAria()});n.transitionElement=null}}).promise();break;case et.slideLeft:var p=l.outerWidth(true),d=i>s?-p:p,v=i>s?p:-p;l.animate({left:d},a,function(){e(this)._showAria(false)}).promise();f.css("left",v+"px")._showAria().animate({left:0},a).promise();break;default:l._showAria(false);f._showAria();break}}function K(t){t.preventDefault();var n=e(this),r=n.parent().parent().parent().parent(),i=b(r),s=w(r),o=s.currentIndex;if(n.parent().is(":not(.disabled):not(.current)")){var u=n.attr("href"),a=parseInt(u.substring(u.lastIndexOf("-")+1),0);k(r,i,s,a)}if(o===s.currentIndex){m(r,o).focus();return false}}function Q(e){if(arguments.length>1){e=e.format(Array.prototype.slice.call(arguments,1))}throw new Error(e)}function G(e,t){if(t==null){Q("The argument '{0}' is null or undefined.",e)}}e.fn.extend({_aria:function(e,t){return this.attr("aria-"+e,t)},_removeAria:function(e){return this.removeAttr("aria-"+e)},_enableAria:function(e){return e==null||e?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(e){return e==null||e?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(e){return e==null||e?this.addClass("active")._aria("selected","true"):this.removeClass("active")._aria("selected","false")},_id:function(e){return e?this.attr("id",e):this.attr("id")}});if(!String.prototype.format){String.prototype.format=function(){var t=arguments.length===1&&e.isArray(arguments[0])?arguments[0]:arguments;var n=this;for(var r=0;r<t.length;r++){var i=new RegExp("\\{"+r+"\\}","gm");n=n.replace(i,t[r])}return n}}var n=0;var r="jQu3ry_5teps_St@te_";var i="-t-";var s="-p-";var o="-h-";var u="Index out of range.";var a="One or more corresponding step {0} are missing.";e.fn.steps=function(t){if(e.fn.steps[t]){return e.fn.steps[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return A.apply(this,arguments)}else{e.error("Method "+t+" does not exist on jQuery.steps")}};e.fn.steps.add=function(e){var t=w(this);return O(this,b(this),t,t.stepCount,e)};e.fn.steps.destroy=function(){return p(this,b(this))};e.fn.steps.finish=function(){d(this,w(this))};e.fn.steps.getCurrentIndex=function(){return w(this).currentIndex};e.fn.steps.getCurrentStep=function(){return S(this,w(this).currentIndex)};e.fn.steps.getStep=function(e){return S(this,e)};e.fn.steps.insert=function(e,t){return O(this,b(this),w(this),e,t)};e.fn.steps.next=function(){return N(this,b(this),w(this))};e.fn.steps.previous=function(){return C(this,b(this),w(this))};e.fn.steps.remove=function(e){return q(this,b(this),w(this),e)};e.fn.steps.setStep=function(e,t){throw new Error("Not yet implemented!")};e.fn.steps.skip=function(e){throw new Error("Not yet implemented!")};var Y=e.fn.steps.contentMode={html:0,iframe:1,async:2};var Z=e.fn.steps.stepsOrientation={horizontal:0,vertical:1};var et=e.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3};var tt=e.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:Y.html,contentLoaded:false};var nt=e.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:Z.horizontal,titleTemplate:'<span class="wizard-step-number">#index#.</span><span class="wizard-step-caption">#title#</span>',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:false,enableAllSteps:false,enableKeyNavigation:true,enablePagination:true,suppressPaginationOnFocus:true,enableContentCache:true,enableCancelButton:false,enableFinishButton:true,preloadContent:false,showFinishButtonAlways:false,forceMoveForward:false,saveState:false,startIndex:0,transitionEffect:et.none,transitionEffectSpeed:200,onStepChanging:function(e,t,n){return true},onStepChanged:function(e,t,n){},onCanceled:function(e){},onFinishing:function(e,t){return true},onFinished:function(e,t){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}})(jQuery)